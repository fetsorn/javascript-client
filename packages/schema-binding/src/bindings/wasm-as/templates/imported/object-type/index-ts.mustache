import { Nullable } from "@web3api/wasm-as";
import {
  serialize{{name}},
  deserialize{{name}}
} from "./serialization";

export class {{name}} {

  public static uri: string = "{{uri}}";

  {{#properties}}
  {{#scalar}}
  {{name}}: {{#toWasm}}{{type}}{{/toWasm}};
  {{/scalar}}
  {{#array}}
  {{name}}: {{#toWasm}}{{type}}{{/toWasm}};
  {{/array}}
  {{/properties}}

  toBuffer(): ArrayBuffer {
    return serialize{{name}}(this);
  }

  fromBuffer(buffer: ArrayBuffer): void {
    deserialize{{name}}(buffer, this);
  }
}
