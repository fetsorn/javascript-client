import { Write, WriteSizer, WriteEncoder } from "@web3api/wasm-as";
import {
{{#types}}
  {{name}}{{^last}},{{/last}}
{{/types}}
} from "./";

{{#types}}
function __write_{{name}}(writer: Write, type: {{name}}) {
  writer.writeMapSize({{properties.length}});
  {{#properties}}
  writer.writeString("{{name}}");
  {{#scalar}}
  writer.write{{#toMsgPack}}{{type}}{{/toMsgPack}}(type.{{name}});
  {{/scalar}}
  {{#array}}
  writer.write{{#toMsgPack}}{{type}}{{/toMsgPack}}(type.{{name}}, (writer: Write, item: {{#toWasm}}{{item.type}}{{/toWasm}}): void => {
    {{> write_array_item}}
  });
  {{/array}}
  {{/properties}}
}
{{/types}}
