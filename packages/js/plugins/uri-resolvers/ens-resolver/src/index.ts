import {
  Client,
  Module,
  Args_tryResolveUri,
  Args_getFile,
  UriResolver_MaybeUriOrManifest,
  Bytes,
  Ethereum_Module,
  manifest,
} from "./wrap-man";

import { ethers } from "ethers";
import { Base58 } from "@ethersproject/basex";
import { getAddress } from "@ethersproject/address";
import { PluginFactory } from "@polywrap/core-js";

export type Address = string;

export interface Addresses {
  [network: string]: Address;
}

export interface EnsResolverPluginConfig {
  addresses?: Addresses;
}

export class EnsResolverPlugin extends Module<EnsResolverPluginConfig> {
  public static defaultAddress = "0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";

  constructor(config: EnsResolverPluginConfig) {
    super(config);

    // Sanitize address
    if (this.config.addresses) {
      this._setAddresses(this.config.addresses);
    }
  }

  async tryResolveUri(
    args: Args_tryResolveUri,
    client: Client
  ): Promise<UriResolver_MaybeUriOrManifest | null> {
    if (args.authority !== "ens") {
      return null;
    }

    try {
      const cid = await this.ensToCID(args.path, client);

      if (!cid) {
        return null;
      }

      return {
        uri: `ipfs/${cid}`,
        manifest: null,
      };
    } catch (e) {
      // TODO: logging https://github.com/polywrap/monorepo/issues/33
    }

    // Nothing found
    return { uri: null, manifest: null };
  }

  getFile(_args: Args_getFile, _client: Client): Bytes | null {
    return null;
  }

  async ensToCID(domain: string, client: Client): Promise<string> {
    const ensAbi = {
      resolver:
        "function resolver(bytes32 node) external view returns (address)",
    };
    const resolverAbi = {
      contenthash:
        "function contenthash(bytes32 nodehash) view returns (bytes)",
      content: "function content(bytes32 nodehash) view returns (bytes32)",
    };

    let ensAddress = EnsResolverPlugin.defaultAddress;

    // Remove the ENS URI scheme & authority
    domain = domain.replace("wrap://", "");
    domain = domain.replace("ens/", "");

    // Check for non-default network
    let network = "mainnet";
    const hasNetwork = /^[A-Za-z0-9]+\//i.exec(domain);
    if (hasNetwork) {
      network = domain.substring(0, domain.indexOf("/"));

      // Remove the network from the domain URI's path
      domain = domain.replace(network + "/", "");

      // Lowercase only
      network = network.toLowerCase();

      // Check if we have a custom address configured
      // for this network
      if (this.config.addresses && this.config.addresses[network]) {
        ensAddress = this.config.addresses[network];
      }
    }

    const domainNode = ethers.utils.namehash(domain);

    const callContractView = async (
      address: string,
      method: string,
      args: string[],
      networkNameOrChainId?: string
    ): Promise<string> => {
      const { data, error } = await Ethereum_Module.callContractView(
        {
          address,
          method,
          args,
          connection: networkNameOrChainId
            ? {
                networkNameOrChainId,
              }
            : undefined,
        },
        client
      );

      if (error) {
        throw error;
      }

      if (data) {
        if (typeof data !== "string") {
          throw Error(
            `Malformed data returned from Ethereum.callContractView: ${data}`
          );
        }

        return data;
      }

      throw Error(
        `Ethereum.callContractView returned nothing.\nData: ${data}\nError: ${error}`
      );
    };

    // Get the node's resolver address
    const resolverAddress = await callContractView(
      ensAddress,
      ensAbi.resolver,
      [domainNode],
      network
    );

    // Get the CID stored at this domain
    let hash;
    try {
      hash = await callContractView(
        resolverAddress,
        resolverAbi.contenthash,
        [domainNode],
        network
      );
    } catch (e) {
      try {
        // Fallback, contenthash doesn't exist, try content
        hash = await callContractView(
          resolverAddress,
          resolverAbi.content,
          [domainNode],
          network
        );
      } catch (err) {
        // The resolver contract is unknown...
        throw Error(`Incompatible resolver ABI at address ${resolverAddress}`);
      }
    }

    if (hash === "0x") {
      return "";
    }

    if (
      hash.substring(0, 10) === "0xe3010170" &&
      ethers.utils.isHexString(hash, 38)
    ) {
      return Base58.encode(ethers.utils.hexDataSlice(hash, 4));
    } else {
      throw Error(`Unknown CID format, CID hash: ${hash}`);
    }
  }

  private _setAddresses(addresses: Addresses): void {
    this.config.addresses = {};

    for (const network of Object.keys(addresses)) {
      this.config.addresses[network] = getAddress(addresses[network]);
    }
  }
}

export const ensResolverPlugin: PluginFactory<EnsResolverPluginConfig> = (
  config: EnsResolverPluginConfig
) => {
  return {
    factory: () => new EnsResolverPlugin(config),
    manifest,
  };
};

export const plugin = ensResolverPlugin;


export const abi = {"objectTypes":[],"enumTypes":[],"interfaceTypes":[],"importedObjectTypes":[{"type":"UriResolver_MaybeUriOrManifest","name":null,"required":null,"kind":1025,"properties":[{"type":"String","name":"uri","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"uri","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Bytes","name":"manifest","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"Bytes","name":"manifest","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/uri-resolver.core.polywrap.eth","namespace":"UriResolver","nativeType":"MaybeUriOrManifest"},{"type":"Ethereum_Connection","name":null,"required":null,"kind":1025,"properties":[{"type":"String","name":"node","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"node","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"networkNameOrChainId","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"networkNameOrChainId","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"Connection"},{"type":"Ethereum_TxOverrides","name":null,"required":null,"kind":1025,"properties":[{"type":"BigInt","name":"gasLimit","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"gasLimit","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"gasPrice","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"gasPrice","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"value","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"value","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"TxOverrides"},{"type":"Ethereum_StaticTxResult","name":null,"required":null,"kind":1025,"properties":[{"type":"String","name":"result","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"result","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Boolean","name":"error","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"Boolean","name":"error","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"StaticTxResult"},{"type":"Ethereum_TxRequest","name":null,"required":null,"kind":1025,"properties":[{"type":"String","name":"to","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"to","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"from","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"from","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"nonce","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"nonce","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"gasLimit","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"gasLimit","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"gasPrice","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"gasPrice","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"data","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"data","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"value","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"value","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"chainId","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"chainId","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"type","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"type","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"TxRequest"},{"type":"Ethereum_TxReceipt","name":null,"required":null,"kind":1025,"properties":[{"type":"String","name":"to","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"to","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"from","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"from","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"contractAddress","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"contractAddress","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"transactionIndex","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"transactionIndex","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"root","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"root","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"gasUsed","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"gasUsed","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"logsBloom","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"logsBloom","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"transactionHash","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"transactionHash","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[Ethereum_Log]","name":"logs","required":true,"kind":34,"array":{"type":"[Ethereum_Log]","name":"logs","required":true,"kind":18,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Log","name":"logs","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"Ethereum_Log","name":"logs","required":true,"kind":8192}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"blockNumber","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"blockNumber","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"blockHash","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"blockHash","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"confirmations","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"confirmations","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"cumulativeGasUsed","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"cumulativeGasUsed","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"effectiveGasPrice","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"effectiveGasPrice","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Boolean","name":"byzantium","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"Boolean","name":"byzantium","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"type","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"type","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"status","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"status","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"TxReceipt"},{"type":"Ethereum_Log","name":null,"required":null,"kind":1025,"properties":[{"type":"BigInt","name":"blockNumber","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"blockNumber","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"blockHash","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"blockHash","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"transactionIndex","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"transactionIndex","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Boolean","name":"removed","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"Boolean","name":"removed","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"data","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"data","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"topics","required":true,"kind":34,"array":{"type":"[String]","name":"topics","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"topics","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"topics","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"transactionHash","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"transactionHash","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"logIndex","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"logIndex","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"Log"},{"type":"Ethereum_EventNotification","name":null,"required":null,"kind":1025,"properties":[{"type":"String","name":"data","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"data","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Log","name":"log","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Log","name":"log","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"EventNotification"},{"type":"Ethereum_Network","name":null,"required":null,"kind":1025,"properties":[{"type":"String","name":"name","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"name","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"chainId","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"chainId","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"ensAddress","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"ensAddress","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"Network"},{"type":"Ethereum_TxResponse","name":null,"required":null,"kind":1025,"properties":[{"type":"String","name":"hash","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"hash","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"to","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"to","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"from","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"from","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"nonce","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"nonce","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"gasLimit","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"gasLimit","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"gasPrice","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"gasPrice","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"data","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"data","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"value","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"value","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"chainId","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"chainId","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"blockNumber","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"blockNumber","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"blockHash","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"blockHash","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"timestamp","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"timestamp","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"confirmations","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"confirmations","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"raw","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"raw","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"r","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"r","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"s","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"s","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"v","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"v","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"type","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"type","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[Ethereum_Access]","name":"accessList","required":null,"kind":34,"array":{"type":"[Ethereum_Access]","name":"accessList","required":null,"kind":18,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Access","name":"accessList","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"Ethereum_Access","name":"accessList","required":true,"kind":8192}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"TxResponse"},{"type":"Ethereum_Access","name":null,"required":null,"kind":1025,"properties":[{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"storageKeys","required":true,"kind":34,"array":{"type":"[String]","name":"storageKeys","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"storageKeys","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"storageKeys","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"interfaces":[],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"Access"}],"importedModuleTypes":[{"type":"UriResolver_Module","name":null,"required":null,"kind":256,"methods":[{"type":"Method","name":"tryResolveUri","required":true,"kind":64,"arguments":[{"type":"String","name":"authority","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"authority","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"path","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"path","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"UriResolver_MaybeUriOrManifest","name":"tryResolveUri","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"UriResolver_MaybeUriOrManifest","name":"tryResolveUri","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"getFile","required":true,"kind":64,"arguments":[{"type":"String","name":"path","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"path","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Bytes","name":"getFile","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"Bytes","name":"getFile","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}}],"uri":"ens/uri-resolver.core.polywrap.eth","namespace":"UriResolver","nativeType":"Module","isInterface":false},{"type":"Ethereum_Module","name":null,"required":null,"kind":256,"methods":[{"type":"Method","name":"callContractView","required":true,"kind":64,"arguments":[{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"method","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"method","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"args","required":null,"kind":34,"array":{"type":"[String]","name":"args","required":null,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"args","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"args","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"callContractView","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"callContractView","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"callContractStatic","required":true,"kind":64,"arguments":[{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"method","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"method","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"args","required":null,"kind":34,"array":{"type":"[String]","name":"args","required":null,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"args","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"args","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_TxOverrides","name":"txOverrides","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxOverrides","name":"txOverrides","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Ethereum_StaticTxResult","name":"callContractStatic","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_StaticTxResult","name":"callContractStatic","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"getBalance","required":true,"kind":64,"arguments":[{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"BigInt","name":"blockTag","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"blockTag","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"BigInt","name":"getBalance","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"getBalance","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"encodeParams","required":true,"kind":64,"arguments":[{"type":"[String]","name":"types","required":true,"kind":34,"array":{"type":"[String]","name":"types","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"types","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"types","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"values","required":true,"kind":34,"array":{"type":"[String]","name":"values","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"values","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"values","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"encodeParams","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"encodeParams","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"encodeFunction","required":true,"kind":64,"arguments":[{"type":"String","name":"method","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"method","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"args","required":null,"kind":34,"array":{"type":"[String]","name":"args","required":null,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"args","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"args","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"encodeFunction","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"encodeFunction","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"solidityPack","required":true,"kind":64,"arguments":[{"type":"[String]","name":"types","required":true,"kind":34,"array":{"type":"[String]","name":"types","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"types","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"types","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"values","required":true,"kind":34,"array":{"type":"[String]","name":"values","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"values","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"values","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"solidityPack","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"solidityPack","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"solidityKeccak256","required":true,"kind":64,"arguments":[{"type":"[String]","name":"types","required":true,"kind":34,"array":{"type":"[String]","name":"types","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"types","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"types","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"values","required":true,"kind":34,"array":{"type":"[String]","name":"values","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"values","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"values","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"solidityKeccak256","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"solidityKeccak256","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"soliditySha256","required":true,"kind":64,"arguments":[{"type":"[String]","name":"types","required":true,"kind":34,"array":{"type":"[String]","name":"types","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"types","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"types","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"values","required":true,"kind":34,"array":{"type":"[String]","name":"values","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"values","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"values","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"soliditySha256","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"soliditySha256","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"getSignerAddress","required":true,"kind":64,"arguments":[{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"getSignerAddress","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"getSignerAddress","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"getSignerBalance","required":true,"kind":64,"arguments":[{"type":"BigInt","name":"blockTag","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"blockTag","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"BigInt","name":"getSignerBalance","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"getSignerBalance","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"getSignerTransactionCount","required":true,"kind":64,"arguments":[{"type":"BigInt","name":"blockTag","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"blockTag","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"BigInt","name":"getSignerTransactionCount","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"getSignerTransactionCount","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"getGasPrice","required":true,"kind":64,"arguments":[{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"BigInt","name":"getGasPrice","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"getGasPrice","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"estimateTransactionGas","required":true,"kind":64,"arguments":[{"type":"Ethereum_TxRequest","name":"tx","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxRequest","name":"tx","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"BigInt","name":"estimateTransactionGas","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"estimateTransactionGas","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"estimateContractCallGas","required":true,"kind":64,"arguments":[{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"method","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"method","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"args","required":null,"kind":34,"array":{"type":"[String]","name":"args","required":null,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"args","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"args","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_TxOverrides","name":"txOverrides","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxOverrides","name":"txOverrides","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"BigInt","name":"estimateContractCallGas","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"estimateContractCallGas","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"checkAddress","required":true,"kind":64,"arguments":[{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Boolean","name":"checkAddress","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"Boolean","name":"checkAddress","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"toWei","required":true,"kind":64,"arguments":[{"type":"String","name":"eth","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"eth","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"BigInt","name":"toWei","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"toWei","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"toEth","required":true,"kind":64,"arguments":[{"type":"BigInt","name":"wei","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"BigInt","name":"wei","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"toEth","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"toEth","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"awaitTransaction","required":true,"kind":64,"arguments":[{"type":"String","name":"txHash","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"txHash","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"confirmations","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"confirmations","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"timeout","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"timeout","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Ethereum_TxReceipt","name":"awaitTransaction","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxReceipt","name":"awaitTransaction","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"waitForEvent","required":true,"kind":64,"arguments":[{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"event","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"event","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"args","required":null,"kind":34,"array":{"type":"[String]","name":"args","required":null,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"args","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"args","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"UInt32","name":"timeout","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"UInt32","name":"timeout","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Ethereum_EventNotification","name":"waitForEvent","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_EventNotification","name":"waitForEvent","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"getNetwork","required":true,"kind":64,"arguments":[{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Ethereum_Network","name":"getNetwork","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Network","name":"getNetwork","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"callContractMethod","required":true,"kind":64,"arguments":[{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"method","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"method","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"args","required":null,"kind":34,"array":{"type":"[String]","name":"args","required":null,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"args","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"args","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_TxOverrides","name":"txOverrides","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxOverrides","name":"txOverrides","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Ethereum_TxResponse","name":"callContractMethod","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxResponse","name":"callContractMethod","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"callContractMethodAndWait","required":true,"kind":64,"arguments":[{"type":"String","name":"address","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"address","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"method","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"method","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"args","required":null,"kind":34,"array":{"type":"[String]","name":"args","required":null,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"args","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"args","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_TxOverrides","name":"txOverrides","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxOverrides","name":"txOverrides","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Ethereum_TxReceipt","name":"callContractMethodAndWait","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxReceipt","name":"callContractMethodAndWait","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"sendTransaction","required":true,"kind":64,"arguments":[{"type":"Ethereum_TxRequest","name":"tx","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxRequest","name":"tx","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Ethereum_TxResponse","name":"sendTransaction","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxResponse","name":"sendTransaction","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"sendTransactionAndWait","required":true,"kind":64,"arguments":[{"type":"Ethereum_TxRequest","name":"tx","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxRequest","name":"tx","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Ethereum_TxReceipt","name":"sendTransactionAndWait","required":true,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_TxReceipt","name":"sendTransactionAndWait","required":true,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"deployContract","required":true,"kind":64,"arguments":[{"type":"String","name":"abi","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"abi","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"bytecode","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"bytecode","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"args","required":null,"kind":34,"array":{"type":"[String]","name":"args","required":null,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"args","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"args","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"deployContract","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"deployContract","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"signMessage","required":true,"kind":64,"arguments":[{"type":"String","name":"message","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"message","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"signMessage","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"signMessage","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"sendRPC","required":true,"kind":64,"arguments":[{"type":"String","name":"method","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"method","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"[String]","name":"params","required":true,"kind":34,"array":{"type":"[String]","name":"params","required":true,"kind":18,"array":null,"map":null,"scalar":{"type":"String","name":"params","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null,"item":{"type":"String","name":"params","required":true,"kind":4}},"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"Ethereum_Connection","name":"connection","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"Ethereum_Connection","name":"connection","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"String","name":"sendRPC","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"sendRPC","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}}],"uri":"ens/ethereum.polywrap.eth","namespace":"Ethereum","nativeType":"Module","isInterface":false}],"importedEnumTypes":[],"importedEnvTypes":[],"moduleType":{"type":"Module","name":null,"required":null,"kind":128,"methods":[{"type":"Method","name":"tryResolveUri","required":true,"kind":64,"arguments":[{"type":"String","name":"authority","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"authority","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null},{"type":"String","name":"path","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"path","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"UriResolver_MaybeUriOrManifest","name":"tryResolveUri","required":null,"kind":34,"array":null,"map":null,"scalar":null,"object":{"type":"UriResolver_MaybeUriOrManifest","name":"tryResolveUri","required":null,"kind":8192},"enum":null,"unresolvedObjectOrEnum":null}},{"type":"Method","name":"getFile","required":true,"kind":64,"arguments":[{"type":"String","name":"path","required":true,"kind":34,"array":null,"map":null,"scalar":{"type":"String","name":"path","required":true,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}],"return":{"type":"Bytes","name":"getFile","required":null,"kind":34,"array":null,"map":null,"scalar":{"type":"Bytes","name":"getFile","required":null,"kind":4},"object":null,"enum":null,"unresolvedObjectOrEnum":null}}],"imports":[{"type":"UriResolver_Module"},{"type":"UriResolver_MaybeUriOrManifest"},{"type":"Ethereum_Module"},{"type":"Ethereum_Connection"},{"type":"Ethereum_TxOverrides"},{"type":"Ethereum_StaticTxResult"},{"type":"Ethereum_TxRequest"},{"type":"Ethereum_TxReceipt"},{"type":"Ethereum_Log"},{"type":"Ethereum_EventNotification"},{"type":"Ethereum_Network"},{"type":"Ethereum_TxResponse"},{"type":"Ethereum_Access"}],"interfaces":[{"type":"UriResolver_Module","name":null,"required":null,"kind":2048,"array":null,"map":null,"scalar":null,"object":null,"enum":null,"unresolvedObjectOrEnum":null}]}}